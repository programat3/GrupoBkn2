{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'core/css/stylesheet.css'%}">
    <style>
        .error {
            color: red;
        }
    </style>
    <title>PetShop</title>
    
</head>
<body>
    <nav class = "navbar navbar-expand-lg bg-light">
        {%include 'core/navbar.html'%}
    </nav>
    <br>
    <h1 class="text-center">
        Ingresar a la tienda
    </h1>
    <br>
    <br>
    <div class="container">
        <div class="row justify-content-center">
          <div class="col-4 border border-3 p-4">
            
            <form method="POST" id="form">
    
              {% csrf_token %} 
              
              {{ form.as_p }}
              
              <div class="text-center">
                <button type="submit" class="btn btn-primary"> Ingresar </button>
              </div>
    
              <hr>
    
              <div class="mt-4">
                <select id="user-select" class="form-select">
                  <option value="">Selecciona un usuario de prueba</option>
                  {% for perfil in perfiles %}
                    <option value="{{ perfil.usuario.username }}">
                      {{ perfil.usuario.first_name }} {{ perfil.usuario.last_name }}
                      (
                        {{ perfil.tipo_usuario }}
                        {% if perfil.tipo_usuario == 'Cliente' %}
                          {% if perfil.subscrito %}
                            subscrito
                          {% else %}
                            no subscrito
                          {% endif %}
                        {% endif %}
                      )
                    </option>
                  {% endfor %}
                </select>
              </div>
              
              {% if messages %}
                {% for message in messages %}
                  <div class="alert alert-success alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
                {% endfor %}
              {% endif %}
          
            </form>
    
          </div>
        </div>
      </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.10.0/jquery.validate.min.js"></script>
    <script src="{% static 'core/js/scripts.js'%}"></script>

    
    
</body>
</html>
